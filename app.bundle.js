(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var i={},s=[],c=0;c<t.length;c++){var a=t[c],d=o.base?a[0]+o.base:a[0],p=i[d]||0,l="".concat(d," ").concat(p);i[d]=p+1;var u=n(l),A={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==u)e[u].references++,e[u].updater(A);else{var h=r(A,o);o.byIndex=c,e.splice(c,0,{identifier:l,updater:h,references:1})}s.push(l)}return s}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=o(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var c=n(i[s]);e[c].references--}for(var a=o(t,r),d=0;d<i.length;d++){var p=n(i[d]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}i=a}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},208:(t,e,n)=>{n.d(e,{A:()=>c});var o=n(354),r=n.n(o),i=n(314),s=n.n(i)()(r());s.push([t.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n  \n  body {\n    font-family: Arial, sans-serif;\n    background: #f9f9f9;\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n  }\n  \n  .container {\n    flex: 1;\n    padding: 20px;\n    max-width: 900px;\n    margin: 0 auto;\n  }\n  \n  h1, h2 {\n    margin-bottom: 10px;\n  }\n  \n  ul {\n    list-style: none;\n    padding-left: 0;\n    margin-bottom: 15px;\n  }\n  \n  li {\n    padding: 10px;\n    background: #eee;\n    margin-bottom: 8px;\n    border-radius: 5px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  \n  li.completed {\n    text-decoration: line-through;\n    color: gray;\n  }\n  \n  .btn {\n    padding: 6px 12px;\n    border: none;\n    background: #0077ff;\n    color: white;\n    cursor: pointer;\n    border-radius: 4px;\n    transition: 0.3s;\n  }\n  \n  .btn:hover {\n    background: #005fcc;\n  }\n  \n  footer {\n    text-align: center;\n    padding: 10px;\n    background: #f1f1f1;\n    font-size: 0.9rem;\n  }\n  \n  footer a {\n    color: inherit;\n    text-decoration: none;\n  }\n  \n  footer a:hover {\n    text-decoration: underline;\n  }\n  \n  /* Popup form */\n  .popup {\n    display: none;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0,0,0,0.5);\n    justify-content: center;\n    align-items: center;\n  }\n  \n  .popup form {\n    background: #fff;\n    padding: 20px;\n    border-radius: 8px;\n    width: 300px;\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .popup form label {\n    margin-top: 10px;\n  }\n  \n  .popup-buttons {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 15px;\n  }\n  \n  .cancel-btn {\n    background: #ccc;\n    color: #333;\n  }\n  \n  .cancel-btn:hover {\n    background: #999;\n  }\n  ","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,SAAS;IACT,UAAU;IACV,sBAAsB;EACxB;;EAEA;IACE,8BAA8B;IAC9B,mBAAmB;IACnB,aAAa;IACb,sBAAsB;IACtB,iBAAiB;EACnB;;EAEA;IACE,OAAO;IACP,aAAa;IACb,gBAAgB;IAChB,cAAc;EAChB;;EAEA;IACE,mBAAmB;EACrB;;EAEA;IACE,gBAAgB;IAChB,eAAe;IACf,mBAAmB;EACrB;;EAEA;IACE,aAAa;IACb,gBAAgB;IAChB,kBAAkB;IAClB,kBAAkB;IAClB,aAAa;IACb,8BAA8B;IAC9B,mBAAmB;EACrB;;EAEA;IACE,6BAA6B;IAC7B,WAAW;EACb;;EAEA;IACE,iBAAiB;IACjB,YAAY;IACZ,mBAAmB;IACnB,YAAY;IACZ,eAAe;IACf,kBAAkB;IAClB,gBAAgB;EAClB;;EAEA;IACE,mBAAmB;EACrB;;EAEA;IACE,kBAAkB;IAClB,aAAa;IACb,mBAAmB;IACnB,iBAAiB;EACnB;;EAEA;IACE,cAAc;IACd,qBAAqB;EACvB;;EAEA;IACE,0BAA0B;EAC5B;;EAEA,eAAe;EACf;IACE,aAAa;IACb,eAAe;IACf,MAAM;IACN,OAAO;IACP,WAAW;IACX,YAAY;IACZ,2BAA2B;IAC3B,uBAAuB;IACvB,mBAAmB;EACrB;;EAEA;IACE,gBAAgB;IAChB,aAAa;IACb,kBAAkB;IAClB,YAAY;IACZ,aAAa;IACb,sBAAsB;EACxB;;EAEA;IACE,gBAAgB;EAClB;;EAEA;IACE,aAAa;IACb,8BAA8B;IAC9B,gBAAgB;EAClB;;EAEA;IACE,gBAAgB;IAChB,WAAW;EACb;;EAEA;IACE,gBAAgB;EAClB",sourcesContent:["* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n  \n  body {\n    font-family: Arial, sans-serif;\n    background: #f9f9f9;\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n  }\n  \n  .container {\n    flex: 1;\n    padding: 20px;\n    max-width: 900px;\n    margin: 0 auto;\n  }\n  \n  h1, h2 {\n    margin-bottom: 10px;\n  }\n  \n  ul {\n    list-style: none;\n    padding-left: 0;\n    margin-bottom: 15px;\n  }\n  \n  li {\n    padding: 10px;\n    background: #eee;\n    margin-bottom: 8px;\n    border-radius: 5px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  \n  li.completed {\n    text-decoration: line-through;\n    color: gray;\n  }\n  \n  .btn {\n    padding: 6px 12px;\n    border: none;\n    background: #0077ff;\n    color: white;\n    cursor: pointer;\n    border-radius: 4px;\n    transition: 0.3s;\n  }\n  \n  .btn:hover {\n    background: #005fcc;\n  }\n  \n  footer {\n    text-align: center;\n    padding: 10px;\n    background: #f1f1f1;\n    font-size: 0.9rem;\n  }\n  \n  footer a {\n    color: inherit;\n    text-decoration: none;\n  }\n  \n  footer a:hover {\n    text-decoration: underline;\n  }\n  \n  /* Popup form */\n  .popup {\n    display: none;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0,0,0,0.5);\n    justify-content: center;\n    align-items: center;\n  }\n  \n  .popup form {\n    background: #fff;\n    padding: 20px;\n    border-radius: 8px;\n    width: 300px;\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .popup form label {\n    margin-top: 10px;\n  }\n  \n  .popup-buttons {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 15px;\n  }\n  \n  .cancel-btn {\n    background: #ccc;\n    color: #333;\n  }\n  \n  .cancel-btn:hover {\n    background: #999;\n  }\n  "],sourceRoot:""}]);const c=s},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var c=0;c<this.length;c++){var a=this[c][0];null!=a&&(s[a]=!0)}for(var d=0;d<t.length;d++){var p=[].concat(t[d]);o&&s[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),r&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=r):p[4]="".concat(r)),e.push(p))}},e}},354:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(r," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},659:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var o=n(72),r=n.n(o),i=n(825),s=n.n(i),c=n(659),a=n.n(c),d=n(56),p=n.n(d),l=n(540),u=n.n(l),A=n(113),h=n.n(A),m=n(208),g={};g.styleTagTransform=h(),g.setAttributes=p(),g.insert=a().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u(),r()(m.A,g),m.A&&m.A.locals&&m.A.locals;const f=class{constructor(t="",e="",n=null,o=null){this.id="undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(),this.title=t,this.description=e,this.dueDate=n,this.priority=o,this.completed=!1}toggleComplete(){this.completed=!this.completed}};class B{constructor(t){this.name=t,this.todos=[]}addTodo(t){if(t instanceof f)this.todos.push(t);else if(t&&"object"==typeof t){const e=new f(t.title||"",t.description||"",t.dueDate||null,t.priority||null);t.id&&(e.id=t.id),t.completed&&(e.completed=!!t.completed),this.todos.push(e)}}removeTodo(t){this.todos=this.todos.filter(e=>e.id!==t)}updateTodo(t,e){const n=this.todos.find(e=>e.id===t);n&&(n.title=e.title??n.title,n.description=e.description??n.description,n.dueDate=e.dueDate??n.dueDate,n.priority=e.priority??n.priority,void 0!==e.completed&&(n.completed=!!e.completed))}getTodos(){return this.todos}updateName(t){this.name=t}}class C{constructor(t){this.storage=t;const e=this.storage.get("projects")||{};this.projects={},Object.keys(e).forEach(t=>{const n=e[t],o=new B(n.name||t);(Array.isArray(n.todos)?n.todos:[]).forEach(t=>{o.addTodo(t)}),this.projects[t]=o}),this.initDefaultProject()}initDefaultProject(){this.projects.default||(this.projects.default=new B("Default"),this.save())}getProjects(){return this.projects}getTodosByProject(t="default"){const e=this.projects[t];return e?e.getTodos():[]}addProject(t){return!this.projects[t]&&(this.projects[t]=new B(t),this.save(),!0)}removeProject(t){return!("default"===t||!this.projects[t]||(delete this.projects[t],this.save(),0))}addTodo(t,e="default"){const n=this.projects[e];if(!n)return null;const o=new f(t.title||"",t.description||"",t.dueDate||null,t.priority||null);return t.completed&&(o.completed=!!t.completed),n.addTodo(o),this.save(),o}removeTodo(t,e){const n=this.projects[t];return!!n&&(n.removeTodo(e),this.save(),!0)}updateTodo(t,e,n){const o=this.projects[t];return!!o&&(o.updateTodo(e,n),this.save(),!0)}toggleTodo(t,e){const n=this.projects[t];if(!n)return!1;const o=n.getTodos().find(t=>t.id===e);return!!o&&(o.toggleComplete(),this.save(),!0)}save(){const t={};Object.keys(this.projects).forEach(e=>{const n=this.projects[e];t[e]={name:n.name,todos:n.getTodos().map(t=>({id:t.id,title:t.title,description:t.description,dueDate:t.dueDate,priority:t.priority,completed:!!t.completed}))}}),this.storage.set("projects",t)}}class E{constructor(){this.eventListeners={},this.currentProjectKey="default"}on(t,e){this.eventListeners[t]||(this.eventListeners[t]=[]),this.eventListeners[t].push(e)}trigger(t,...e){this.eventListeners[t]&&this.eventListeners[t].forEach(t=>t(...e))}renderProjects(t,e){const n=document.getElementById("project-list");n&&(n.innerHTML="",Object.keys(t).forEach(o=>{const r=t[o],i=document.createElement("li");i.textContent=r.name||o,o===e&&i.classList.add("active"),i.addEventListener("click",()=>{this.currentProjectKey=o,this.trigger("select-project",o)});const s=document.createElement("button");s.textContent="🗑️",s.className="btn",s.addEventListener("click",t=>{t.stopPropagation(),this.trigger("delete-project",o)}),i.appendChild(s),n.appendChild(i)}))}renderTodos(t,e){const n=document.getElementById("todo-list");n&&(n.innerHTML="",t.forEach(t=>{const o=document.createElement("li"),r=document.createElement("div");r.style.flex="1";const i=document.createElement("input");i.type="checkbox",i.checked=!!t.completed,i.addEventListener("change",n=>{n.stopPropagation(),this.trigger("toggle-todo",e,t.id)});const s=document.createElement("span");s.textContent=t.title,t.completed&&(s.style.textDecoration="line-through"),r.appendChild(i),r.appendChild(s);const c=document.createElement("div");c.style.display="flex",c.style.gap="8px";const a=document.createElement("button");a.textContent="Edit",a.className="btn",a.addEventListener("click",n=>{n.stopPropagation(),this.trigger("edit-todo",e,t.id)});const d=document.createElement("button");d.textContent="Delete",d.className="btn",d.addEventListener("click",n=>{n.stopPropagation(),this.trigger("delete-todo",e,t.id)}),c.appendChild(a),c.appendChild(d),o.appendChild(r),o.appendChild(c),n.appendChild(o)}))}setupAddProjectButton(){const t=document.getElementById("add-project-btn");t&&(t.onclick=()=>{const t=prompt("Enter project key (used as identifier):");t&&(prompt("Enter display name (optional):"),this.trigger("add-project",t))})}setupAddTodoButton(){const t=document.getElementById("add-todo-btn");t&&(t.onclick=()=>{const t=prompt("Todo title:");if(!t)return;const e={title:t,description:prompt("Description (optional):")||"",dueDate:prompt("Due date (YYYY-MM-DD, optional):")||"",priority:prompt("Priority (Low/Medium/High, optional):")||""};this.trigger("add-todo",e,this.currentProjectKey)})}}class b{get(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(t){return console.error(`Error getting item from storage: ${t}`),null}}set(t,e){try{const n=JSON.stringify(e);localStorage.setItem(t,n)}catch(t){console.error(`Error setting item in storage: ${t}`)}}remove(t){try{localStorage.removeItem(t)}catch(t){console.error(`Error removing item from storage: ${t}`)}}clear(){try{localStorage.clear()}catch(t){console.error(`Error clearing storage: ${t}`)}}}class y{constructor(){this.storage=new b,this.todoManager=new C(this.storage),this.dom=new E,this.currentProject="default"}init(){this.renderProjects(),this.renderTodosForCurrentProject(),this.dom.setupAddProjectButton(),this.dom.setupAddTodoButton(),this.dom.on("add-project",t=>{this.todoManager.addProject(t),this.renderProjects()}),this.dom.on("select-project",t=>{this.currentProject=t,this.renderProjects(),this.renderTodosForCurrentProject()}),this.dom.on("delete-project",t=>{this.todoManager.removeProject(t),this.currentProject===t&&(this.currentProject="default"),this.renderProjects(),this.renderTodosForCurrentProject()}),this.dom.on("add-todo",(t,e)=>{this.todoManager.addTodo(t,e||this.currentProject),this.renderTodosForCurrentProject()}),this.dom.on("toggle-todo",(t,e)=>{this.todoManager.toggleTodo(t,e),this.renderTodosForCurrentProject()}),this.dom.on("delete-todo",(t,e)=>{this.todoManager.removeTodo(t,e),this.renderTodosForCurrentProject()}),this.dom.on("edit-todo",(t,e)=>{const n=this.todoManager.getTodosByProject(t).find(t=>t.id===e);if(!n)return;const o=prompt("Title:",n.title),r=prompt("Description:",n.description),i=prompt("Due date (YYYY-MM-DD):",n.dueDate),s=prompt("Priority:",n.priority),c=confirm("Mark completed?");this.todoManager.updateTodo(t,e,{title:o,description:r,dueDate:i,priority:s,completed:c}),this.renderTodosForCurrentProject()})}renderProjects(){const t=this.todoManager.getProjects();this.dom.renderProjects(t,this.currentProject)}renderTodosForCurrentProject(){const t=this.todoManager.getTodosByProject(this.currentProject);this.dom.renderTodos(t,this.currentProject)}}document.addEventListener("DOMContentLoaded",()=>{(new y).init()})})();
//# sourceMappingURL=app.bundle.js.map